{"version":3,"sources":["components/AppHeader/AppHeader.js","components/SearchPanel/SearchPanel.js","components/TodoListItems/TodoListItem.js","components/TodoList/TodoList.js","components/AddForm/AddForm.js","components/App/App.js","index.js"],"names":["AppHeader","this","props","toDo","done","className","Component","SearchPanel","buttons","name","label","onSearchChange","e","term","target","value","setState","state","filter","onFilterChange","map","onClick","key","type","placeholder","onChange","TodoListItem","onDeleted","onToggleImportant","onToggleDone","classNames","important","TodoList","items","elements","item","id","itemProps","AddForm","onLabelChange","onSubmit","preventDefault","onAddItem","maxId","App","createTodoItem","deleteItem","idx","findIndex","el","slice","addItem","text","newItem","toggleProperty","replace","arr","propName","oldTime","length","toLowerCase","indexOf","visibleItems","search","countDone","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.778509fb.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\nimport './AppHeader.css';\r\n\r\nclass AppHeader extends Component {\r\n  render(){\r\n    const {toDo, done} = this.props;\r\n    return(\r\n      <div className='AppHeader'>\r\n        <h1>Todo list</h1>\r\n        <h2>{toDo} осталось, {done} выполнено</h2>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AppHeader;","import React, {Component} from 'react';\r\n\r\nimport './SearchPanel.css';\r\n\r\nclass SearchPanel extends Component {\r\n  buttons = [\r\n    {name: 'all', label: 'Все'},\r\n    {name: 'active', label: 'Активные'},\r\n    {name: 'done', label: 'Выполненные'}\r\n  ]\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      term: ''\r\n    }\r\n  }\r\n  onSearchChange = (e) => {\r\n    const term = e.target.value;\r\n    this.setState({\r\n      term\r\n    });\r\n    this.props.onSearchChange(term);\r\n  }\r\n  render(){\r\n    const {filter, onFilterChange} = this.props;\r\n    const buttons = this.buttons.map(({name, label}) => {\r\n      return(\r\n        <button onClick={() => onFilterChange(name)} key={name} type=\"button\" \r\n                className={`btn ${(name === filter) ? \"btn-info\" : \"btn-outline-secondary\"}`}>{label}</button>\r\n      )\r\n    });\r\n\r\n    return(\r\n      <div className='SearchPanel'>\r\n        <input className='SearchPanel__input form-control' placeholder='Поиск' value={this.state.term} onChange={this.onSearchChange}></input>\r\n        <div className='btn-group'>\r\n          {buttons}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SearchPanel;\r\n","import React, {Component} from 'react';\r\nimport './TodoListItem.css';\r\n\r\nclass TodoListItem extends Component {\r\n  // onLabelClick = () => {\r\n  //   this.setState(({done}) => {\r\n  //     return {done: !done}\r\n  //   })\r\n  // }\r\n  // onMarkImportant = () => {\r\n  //     this.setState(({important}) => {\r\n  //       return {important: !important}\r\n  //     });\r\n  // }\r\n  render() {\r\n    const {label, onDeleted, onToggleImportant, onToggleDone, done, important} = this.props;\r\n\r\n    let classNames = 'TodoListItem';\r\n    if (done){\r\n      classNames+=' done';\r\n    }\r\n\r\n    if(important){\r\n      classNames+=' important'\r\n    }\r\n    return (\r\n      <span className={classNames}>\r\n        <span className='TodoListItemLabel' onClick={onToggleDone}>{label}</span>\r\n        <div>\r\n          <button type=\"button\" onClick={onToggleImportant} className='btn btn-outline-success btn-sm'>\r\n            <i className=\"fa fa-exclamation\"/>\r\n            </button>\r\n          <button type=\"button\" onClick={onDeleted} className='btn btn-outline-danger btn-sm'>\r\n            <i className=\"fa fa-trash-o\"/>\r\n          </button>\r\n        </div>\r\n      </span>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nexport default TodoListItem;","import React from 'react';\r\n\r\nimport TodoListItem from '../TodoListItems/TodoListItem';\r\nimport './TodoList.css';\r\n\r\nconst TodoList = ({items, onDeleted, onToggleImportant, onToggleDone}) => {\r\n  const elements = items.map((item) => {\r\n    const {id, ...itemProps} = item;\r\n\r\n    return (\r\n      <li className=\"list-group-item\" key={id}>\r\n        <TodoListItem onDeleted={() => onDeleted(id)} { ...itemProps } onToggleImportant={() => onToggleImportant(id)} onToggleDone={() => onToggleDone(id)}/>\r\n      </li>\r\n    )\r\n  });\r\n  return(\r\n  <ul className=\"list-group TodoList\">\r\n    { elements }\r\n  </ul>\r\n  )\r\n};\r\n\r\nexport default TodoList;","import React, {Component} from 'react';\r\n\r\nimport './AddForm.css';\r\n\r\nclass AddForm extends Component{\r\n  state = {\r\n    label: ''\r\n  }\r\n\r\n  onLabelChange = (e) => {\r\n    this.setState({\r\n      label: e.target.value\r\n    })\r\n  }\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onAddItem(this.state.label);\r\n    if(this.props.filter === 'done'){\r\n      this.props.onFilterChange('all');\r\n    }\r\n\r\n    this.setState(() => {\r\n      return {label: ''}\r\n    });\r\n  }\r\n  render(){\r\n    return(\r\n      <form onSubmit={this.onSubmit} className='AddForm mt-1'>\r\n        <input type='text' className='form-control' onChange={this.onLabelChange} placeholder='Что нужно сделать?' value={this.state.label}/>\r\n        <button className='AddForm__btn btn btn-outline-secondary'>Добавить</button>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddForm","import React, {Component} from 'react';\r\n\r\nimport AppHeader from '../AppHeader/AppHeader';\r\nimport SearchPanel from '../SearchPanel/SearchPanel';\r\nimport TodoList from \"../TodoList/TodoList\";\r\nimport AddForm from '../AddForm/AddForm'\r\n\r\nimport './App.css'\r\nlet maxId = 0;\r\nclass App extends Component {\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      items: [\r\n        this.createTodoItem('Learn React'),\r\n        this.createTodoItem('Learn JavaScript'),\r\n        this.createTodoItem('Learn Bootstrap')\r\n      ],\r\n      term: '',\r\n      filter: 'all'\r\n    };\r\n\r\n  }\r\n  // createId = () => {\r\n  //   return (this.state.items.length > 0) ? this.state.items[this.state.items.length - 1].id+1 : 1;\r\n  // }\r\n  createTodoItem = (label) => {\r\n    return{\r\n      label,\r\n      important: false,\r\n      done: false,\r\n      id: ++maxId\r\n      // id: (this.state.items.length > 0) ? this.state.items[this.state.items.length - 1].id+1 : 1\r\n    }\r\n  }\r\n  deleteItem = (id) => {\r\n    this.setState(({items}) => {\r\n      const idx = items.findIndex((el) => el.id === id);\r\n\r\n      return {\r\n        items: [...items.slice(0, idx),...items.slice(idx+1)]\r\n      }\r\n    })\r\n  }\r\n  addItem = (text) => {\r\n    const newItem = this.createTodoItem(text);\r\n    this.setState(({items}) => {\r\n      return{\r\n        items: [...items, newItem]\r\n      }\r\n    })\r\n  }\r\n  toggleProperty(arr, id, propName){\r\n    const idx = arr.findIndex((el) => el.id === id);\r\n\r\n    const oldTime = arr[idx];\r\n    const newItem = {...oldTime, [propName]: !oldTime[propName]};\r\n    return [...arr.slice(0, idx),\r\n        newItem,\r\n        ...arr.slice(idx+1)]\r\n  }\r\n  onToggleImportant = (id) => {\r\n    this.setState(({items}) => {\r\n        return {\r\n          items: this.toggleProperty(items, id, 'important')\r\n      }\r\n    })\r\n  }\r\n  onToggleDone = (id) => {\r\n    this.setState(({items}) => {\r\n      return {\r\n        items: this.toggleProperty(items, id, 'done')\r\n      }\r\n    })\r\n  }\r\n  search(items, term){\r\n    if (term.length === 0){\r\n      return items;\r\n    }\r\n    return items.filter((item) => {\r\n      return item.label.toLowerCase().indexOf(term.toLowerCase()) > -1;\r\n    })\r\n  }\r\n  onSearchChange = (term) => {\r\n    this.setState({\r\n      term: term.replace(/^\\s*/,'').replace(/\\s*$/,'')\r\n    });\r\n  }\r\n  onFilterChange = (filter) => {\r\n    this.setState({filter});\r\n  }\r\n  filter(items, filter) {\r\n    switch(filter) {\r\n      case 'all':\r\n        return items;\r\n      case 'active':\r\n        return items.filter((item) => !item.done);\r\n      case 'done':\r\n        return items.filter((item) => item.done);\r\n      default:\r\n        return items;\r\n    }\r\n  }\r\n  render(){\r\n    const {term, items, filter} = this.state;\r\n    const visibleItems = this.filter(this.search(items, term), filter);\r\n    const countDone = items.filter((el) => el.done).length;\r\n    return(\r\n      <div>\r\n        <AppHeader toDo={items.length - countDone} done={countDone} />\r\n        <SearchPanel onFilterChange={this.onFilterChange} filter={filter} onSearchChange={this.onSearchChange} />\r\n        <TodoList items={visibleItems} onDeleted={ this.deleteItem } onToggleDone={this.onToggleDone} onToggleImportant={this.onToggleImportant}/>\r\n        <AddForm onFilterChange={this.onFilterChange} filter={filter} onAddItem={this.addItem} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App/App'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}